# [Chapter 1 ]스위프트

# 1.1 스위프트

스위프트는 안전을 우선으로 하는 프로그래밍 패턴을 지향하며, 더욱 쉽고 재미있게 프로그래밍할 수 있도록 옵셔널, 제네릭, 프로토콜, 튜플, 익스텐션 등 새로운 기능을 많이 도입했다.

스위프트는 편리하며 고차원적인 언어이다.`ARC(자동 참조 카운팅)`를 지원하므로 쉽게 메모리를 관리할 수있다.

`오브젝트 C의 동적 객체 모델과 매개변수 형식`을 도입했다. 스크립트 언어처럼 프로그램을 빌드하고 실행하는 등의 수고로움 없이 플레이그라운드를 사용해 스위프트 코드의 결과를 바로 확인할 수도 있다.

# 1.2 스위프트의 언어적 특징

## 안전성(Safe)

스위프트는 안전한 프로그래밍을 지향한다. `엄격한 문법`을 적용해 프로그래머의 실수를 미연에 방지하고자 한다.

ex 옵셔널이라는 기능을 비롯하여 guard 구문, 오류처리, 강력한 타입 통제

## 신속성(Fast)

스위프트는 C 언어를 기반으로 한 프로그래밍 언어를 대체 하려는 목적으로 만들어졌다.

`실행 속도의 최적화`뿐만 아니라 컴파일러를 지속적으로 개량해 더 빠른 컴파일 성능을 구현해 나가고 있다.

## 더 나은 표현성(Expressive)

스위프트는 사용하기 편하고 보기 좋은 문법을 구현하려 노력했다. 덕분에 개발자들이 원하던 현대적이고 세련된 문법을 구사할 수 있으며, 스위프트는 계속 발전해 나가고 있다.

# 스위프트 프로그래밍 패러다임

스위프트는 여러 가지 프로그래밍 패러다임을 차용한 다중 패러다임 프로그래밍 언어이다.

크게 보면 `명령형 프로그래밍 패러다임`, `객체지향 프로그래밍 패러다임`, `함수형 프로그래밍 패러다임`, `프로토콜 지향 프로그래밍 패러다임`을 차용했다.

정확하게는 명령형 객체지향 프로그래밍 패러다임을 기반으로 한 함수형 프로그래밍 패러다임과 프로토콜 지향 프로그래밍 패러다임을 지향한다.

결과적으로 스위프트에서 가장 강조하는 부분은 `함수형 프로그래밍 패러다임`과 `프로토콜 지향 프로그래밍 패러다임`이다.

# 1.2.1 객체지향

객체지향 프로그래밍의 주요 특징은 `자료 추상화`, `상속`, `다형성` ,`동적 바인딩`등이 있다.

## 객체지향 프로그래밍 패러다임

`객체지향 프로그래밍`은 컴퓨터 프로그램을 명령어의 목록으로 보는 기존의 명령형 프로그래밍 패러다임의 시각에서 벗어나 `여러 개의 독립된 단위인 객체의 모임으로 파악하고자 하는 시각`이다. 각각의 객체는 서로 메시지를 주고 받고 데이터를 처리할 수 있다.

<aside>
❗ 객체지향 프로그래밍 장점

</aside>

객체지향 프로그래밍은 프로그램을 `유연`하고 `쉽게 변경`할 수 있도록 작성할 수 있어, `대규모 소프트웨어 개발`에 많이 사용된다. 또한, 소프트웨어 개발과 유지보수를 간편하게 할 수 있으며, 직관적으로 코드를 분석 가능하다는 장점이 있다.

소프트웨어 공학의 관점에서 소프트웨어의 질을 향상 하려면, `강한 응집력`과 `약한 결합력`을 지향해야한다. 객체지향 프로그래밍은 클래스에 하나의 문제 해결을 위한 `데이터`와  `메서드`를 모아 놓은 방식으로 `응집력을 강화`한다. `또한, 각 클래스는 독립적이 되도록 디자인해 결합력을 약화`한다.

<aside>
❗ 객체지향 프로그래밍 한계

</aside>

지나친 프로그램의 객체화 경향 때문에 오히려 실제 세계의 모습을 그대로 반영하기 어렵다는 비판을 받기도 한다.

## 클래스와 객체

- `클래스`: 같은 종류(또는 문제 해결을 위한)의 집단에 속하는 `속성과 행위를 정의`한 것. `객체지향 프로그램의 기본 사용자 정의 데이터 타입`이라고 할 수 있다. 클래스는 다른 클래스 또는 외부 요소와 `독립적`으로 디자인되어야 한다.
- `객체`: `클래스의 인스턴스 (실제로 메모리에 할당되어 동작하는 모양을 갖춘 것)` 이다. 객체는 자신 `고유의 속성`이 있으며 클래스에서 정의한 행위를 할 수 있다.
- `메서드` 또는 `메시지` : `객체가 클래스에 정의된 행위를 실질적으로 하는 함수.` 메서드를 통해 객체에 명령을 전달할 수 있다. 객체 간에 명령 전달 또는 데이터 전달은 메서드를 통해 이루어지며 명령을 전달하거나 데이터를 전달하는 행위를 ‘메서드를 호출한다’ 라고 표현한다.

<aside>
❗ 객체와 인스턴스는 동의어가 아니다. `‘객체 = 클래스의 인스턴스’`  `‘객체 ≠ 인스턴스’`이다.

</aside>

즉, 인스턴스는 구조체의 인스턴스도 있고, 열거형의 인스턴스도 있을 수 있기 때문에 객체는 인스턴스 중에도 클래스의 인스턴스만 가리키는 말로 좀 더 한정적인 의미이다.

```swift
class SomeClass {
		var someProperty: Any = 1
		func someMethod(){
				//some task...
		}
}

let myInstance: SomeClass = SomeClass()
// SomeClass라는 이름의 클래스의 이니셜라이저를 호출하여
// myInstance라는 이름의 상수에 할당한다.
// 클래스의 이니셜라이저를 통해 메모리에 할당되고 초기화한 객체를 우리는 인스턴스라고 부른다.

myInstance.someProperty = 100  // 인스턴스의 프로퍼티 값을 할당할 수도 있고
print(myInstance.someProperty) // 값을 가져올 수도 있다.

myInstance.someMethod() // 인스턴스의 메서드를 호출하여 작업을 수행하도록 할 수 있다.
```

위를 보면 알 수 있듯, `객체지향 프로그래밍 패러다임을 차용한 언어는 필수로 명령형 프로그래밍 패러다임을 사용한다`프로퍼티, 변수 등에 해당하는 메모리 값의 변화(상태 변화)가 있기 때문이다.

클래스는 실제 메모리에 객체를 할당해 인스턴스를 만들기 위한 일종의 설계코드이다. 클래스에 정의된 모양대로 객체가 생성되고 객체간의 메시지를 통해 프로그램의 각 명령이 실행된다.

# 1.2.2 함수형

## 함수형 프로그래밍 패러다임

함수형 프로그래밍의 가장 큰 장점은 `대규모 병렬처리가 굉장히 쉽다`는 점이다. 함수형 프로그래밍 패러다임은 프로그램이 `상태의 변화 없이 데이터 처리`를 수학적 함수 계산으로 취급하고 하는 패러다임이다.

기존 객체지향 프로그래밍 패러다임이나 명령형 프로그래밍 패러다임에서는 프로그램에서 `값이나 상태의 변화`를 중요하게 여기지만, 함수형 프로그래밍 패러다임은 `함수 자체의 응용`을 중요하게 여긴다.

`수학적 함수`와 `명령형 함수`의 차이점은 코드 이해와 실행 결과의 관점에서도 큰 차이를 보인다.

명령형 함수를 이용하는 객체지향 프로그래밍은 과거의 유산이라고도 볼 수 있는 절차지향 프로그래밍 패러다임이 포함되어 있다. 그래서 함수 실행시 함수가 전달받은 전달인자 외에도 포인터, 레퍼런스 값 등 객체의 상태 값(프로퍼티 값) 또는 메모리 참조 값 등이 변경될 수 있으며 함수 내부의 처리에도 영향을 미칠 수 있다.

`하지만`, 수학적 함수를 이용하는 함수형 프로그래밍은 순수하게 함수에 전달된 인자 값만 결과에 영향을 주므로 상태 값을 갖지 않고 순수하게 함수만으로 동작한다. 따라서 어떤 상황에서 프로그램을 실행 하더라도 일정하게 같은 결과를 도출할 수 있다. 그렇기에 대규모 병렬처리에 큰 강점이 있다.

또 다른 `함수형 프로그래밍`의 큰 특징은 함수를 `일급 객체`로 다룬다는 점이다.

다음 `조건`을 `모두` 충족해야 일급 객체가 될 수 있다.

- 전달인자로 전달할 수 있다.
- 동적 프로퍼티 할당이 가능하다
- 변수나 데이터 구조 안에 담을 수 있다.
- 반환 값으로 사용할 수 있다.
- 할당할 때 사용된 이름과 관계없이 고유한 객체로 구별할 수 있다.

`스위프트의 함수`는 이 조건을 모두 충족할 수 있기에 함수를 `일급 객체`로 취급한다.

함수가 일급 객체가 된다는 의미는 다양한 종류의 함수를 호출하고, 전달하고, 반환하는 등의 동작만으로도 프로그램을 구현할 수 있다는 뜻이다.

### doSomething 함수와 doAnotherThing 함수를 모두 처리하고 싶을 경우

```swift
func doSomething(){
    print("do something")
}

func doAnotherThing(){
    print("do another thing")
}

func excuteAll(){
    doSomething()
    doAnotherThing()
}

excuteAll()

//두 수의 합을 구하고 싶은 경우

//명령형 프로그래밍 패러다임
func sum(first: Int, second: Int) -> Int{
    return first + second
}

sum(first: 10, second: 5)

//do something
//do another thing
```

```swift
func doSomething(){
    print("do something")
}

func doAnotherThing(){
    print("do another thing")
}

func excute(tasks: [() -> Void]){
    for task in tasks {
        task()
    }
}

excute(tasks: [doSomething,doAnotherThing])

//함수형 프로그래밍 패러다임
func sum(first: Int) ->((Int) -> Int){
    return {second in first + second }
}

sum(first: 10)(5)

//do something
//do another thing
```

함수형 프로그래밍 패러다임 안에서는 `함수가 일급 객체`이므로 전달인자 또는 반환 값으로 사용할 수 있다.

따라서 excute(tasks: [doSomething, doAnotherThing]) 처럼 doSomething 함수와 doAnotherThing`함수를 전달인자`로 사용할 수 있습니다.

또, 덧셈 함수인 sum 역시  함수형 프로그래밍 패러다임에서 즐겨 사용 되는 `커링 기법`으로 전달인자를 하나만 두고 반환 하면서 `second in first + second`처럼 전달인자를 사용할 수 있다.

|  | 명령형 프로그래밍 | 함수형 프로그래밍 |
| --- | --- | --- |
| 프로그래머가 초점을 두는 곳 | 작업 수행 알고리즘, 상태의 변경 추적 | 원하는 정보, 필요한 변환 |
| 상태 변경 | 중요 | 없음 |
| 실행 순서 | 중요 | 낮은 중요도 |
| 주요 흐름 제어 | 제어 구문(반복문, 조건문 등)              함수(메서드) 호출 | 순환(재귀)함수 호출 등의 함수 호출로 제어 |
| 주요 조작 단위 | 클래스나 구조체의 인스턴스 | 함수 |

## 스위프트가 함수형 프로그래밍 패러다임을 차용한 의의

애플은 스위프트는 분명 객체지향 프로그래밍 패러다임과 함수형 프로그래밍 패러다임을 모두 차용한다 말함.

순수하게 함수형 프로그래밍 패러다임으로 프로그램을 작성하면 다음 장점이 있다.

- 여러 가지 연산 처리 작업이 `동시에` 일어나는 프로그램을 만들기 쉽다.
- 멀티 코어 혹은 `여러 개 연산 프로세서`를 사용하는 시스템에서 효육적인 프로그램을 만들기 쉽다.
- 상태변화에 따른 부작용에서 자유로워지므로 순수하게 기능 구현에 초점을 맞추어 설계할 수 있다.

# 1.2.3 프로토콜 지향

프로토콜 지향 프로그래밍은 `참조 타입인 클래스의 인스턴스`보다 `값 타입`을 더 효율적으로 사용하며, 오류를 줄일 방안이라고 애플은 소개했다. 이는 참조 타입의 참조 문제에서 조금 더 자유로울 수 있고, 다중 상속이 불가능한 한계를 뛰어넘을 수 있으며, 더 나은 추상화 메커니즘을 구현할 수 있다는 이야기이다.
